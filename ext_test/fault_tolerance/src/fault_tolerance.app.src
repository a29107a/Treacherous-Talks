%% -*- mode: erlang; -*-
{application, fault_tolerance,
 [
  {description, "Lib app for driving fault-tolerance tests."},
  {vsn, "1"},
  {registered, []},
  {applications, [
                  kernel,
                  stdlib
                 ]},
%  {mod, { websocket_client, []}},
  {env,
   [
    {test_cluster_config,
     [
      {host, "192.168.0.101", "system_manager",
       [
        {release, web_frontend,
         [
          {web_frontend, [{listen,["192.168.0.101"]}]}
         ]
        }
       ]
      },
      {host, "192.168.0.102", "system_manager",
       [
        {release, backend,
         [{db,[{riak_ip,"192.168.0.103"},
               {riak_database_port,8098},
               {riak_protobuf_port,8087},
               {db_workers,50}]}
         ]
        }
       ]
      },
      {host, "192.168.0.103", "system_manager",
       [
        {release, riak,
         [
          {riak_core,
           [
            {http,[{"192.168.0.103",8098}]}
           ]
          },
          {riak_search,[{enabled,true}]},
          {riak_kv,
           [
            {storage_backend,riak_kv_eleveldb_backend},
            {pb_ip,"192.168.0.103"}
           ]}
         ]
        }
       ]
      },
      {host, "192.168.0.104", "system_manager",
       [
        {release, backend,
         [{db,[{riak_ip,"192.168.0.103"},
               {riak_database_port,8098},
               {riak_protobuf_port,8087},
               {db_workers,50}]}
         ]
        }
       ]
      }
     ]}
   ]}
 ]}.
