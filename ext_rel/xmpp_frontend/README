xmpp_frontend pre-release readme document
#########################################

This does NOT produce an OTP release. 

build (and make the release)
############################

    make release

This combines the files needed to build and install ejabberd
in rel/xmpp_frontend, with a makefile to install ejabberd
where it will be used. This can be re-run as needed, e.g.
when the xmpp_frontend directory is moved.

Config files in the config directory will be copied to
rel/xmpp_frontend for the installation step to install them.

development workflow
####################

One suggested workflow for development of component modules:

Starting in ext_rel/xmpp_frontend...

1. make
    Make a release of the xmpp_frontend in rel/xmpp_frontend.
    It's this that the release script will copy to system_release.
2. cd rel/xmpp_frontend
3. make install
    make a local installation of ejabberd and our modules and configs
    under the directory 'installation'
4. edit the modules e.g. ../../components/*.erl
5. run make again in ext_rel/xmpp_frontend
    recompile and copy the component source into the release dir
6. run make again in ext_rel/xmpp_frontend/rel/xmpp_frontend
    reinstall components into ejabberd
8. ./installation/sbin/ejabberdctl live
    Run an interactive instance of ejabberd to see what's going on 
    while you test your modifications.

################## the cool part: ####################
Your edit, compile, test loop is number 4...8 :)
######################################################

To do this easily, I usually keep terminals open at:
   main/
   main/ext_rel/xmpp_rontend
   main/ext_rel/xmpp_rontend/rel/xmpp_frontend.

Before I commit I run build and test under main.

Running build, then release under /main will make main/test fail
because it assumes xmpp_frontend is still released under
ext_rel/xmpp_frontend/rel, yet the release script moves it out of
that directory and into system-release.

IMPORTANT!!!
After moving the xmpp_frontend release direcrory
you have to run make reinstall.

Yes, this is clunky. If you can improve on it, do so and inform 
people of the better workflow, here perhaps!
